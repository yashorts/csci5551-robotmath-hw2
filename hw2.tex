\documentclass[12pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{enumitem}

\newcommand{\f}[1]{o_{#1}x_{#1}y_{#1}z_{#1}}
\newcommand{\fromlectures}{{\\ \color{blue} \hspace*{\fill}(from lecture slides)} \\}
\newcommand{\bydefn}{{\\ \color{blue} \hspace*{\fill}(by definition)} \\}
\newcommand{\given}{{\\ \color{blue} \hspace*{\fill}(given)} \\}
\newcommand{\rtp}{{\\ \color{blue} \hspace*{\fill}(required to prove)} \\}

\newcommand{\rx}[1]{\begin{bmatrix} 1 & 0 & 0 \\ 0 & cos(#1) & -sin(#1) \\ 0 & sin(#1) & cos(#1) \end{bmatrix}}
\newcommand{\ry}[1]{\begin{bmatrix} cos(#1) & 0 & sin(#1) \\ 0 & 1 & 0 \\ -sin(#1) & 0 & cos(#1) \end{bmatrix}}
\newcommand{\rz}[1]{\begin{bmatrix} cos(#1) & -sin(#1) & 0 \\ sin(#1) & cos(#1) & 0 \\ 0 & 0 & 1 \end{bmatrix}}

\newcommand{\vv}[1]{\overline{v}_{#1}}

\title{CSci 5551 - HW2}
\author{Yashasvi Sriram Patkuri\\patku001@umn.edu}

\begin{document}
\maketitle
\pagebreak

\section{}
\subsection*{1.a}
$ k \equiv \begin{bmatrix} k_x \\ k_y \\ k_z \end{bmatrix} $ is a unit vector.
A rotation about k by an angle $\theta$ is considered.
\given

Rotation matrix corresponding to this rotation is
\[
  R \equiv
  \begin{bmatrix}
    k_x^2v\theta + c\theta & k_xk_yv\theta - k_zs\theta & k_xk_zv\theta + k_ys\theta\\
    k_xk_yv\theta + k_zs\theta & k_y^2v\theta + c\theta & k_yk_zv\theta - k_xs\theta \\
    k_xk_zv\theta - k_ys\theta & k_yk_zv\theta + k_xs\theta & k_z^2v\theta + c\theta
  \end{bmatrix}
\]
where $v\theta \equiv 1 - c\theta$.
\rtp

The rotation matrix for a rotation about z-axis by angle $\theta$ is
\[
  R_{z,\theta} \equiv \rz{\theta}
\].
\fromlectures

\paragraph{Idea}
Consider a frame $ F_1 $ in which
\begin{enumerate}[nolistsep]
  \item The z-axis is aligned with what appears as k from global frame.
  \item The x and y axes are arbitrary perpendicular unit vectors in the plane perpendicular to its z-axis.
\end{enumerate}
By selecting an arbitrary y-axis perpendicular to z-axis, $ F_1 $ is completely known.
The rotation transformation matrix $ R_1^0 $ b/w global frame $ F_0 $ and $ F_1 $ is now completely known.

For a given vector $ v^0_a $ in $ F_0 $, we can get its representation $ v^1_a $ in $ F_1 $ using $ R_1^0 $.
We know the rotation matrix for rotation about z-axis by $\theta$.
We can use that to find rotated version of $ v^1_a $ say $ v^1_r $.
Finally we get the representation of $ v^1_r $ in $ F_0 $ viz. $ v^0_r $.

\subsubsection*{Finding $R_1^0$}
Let k be along z-axis of $ F_1 $. In general y-axis can be thought of as $ \begin{bmatrix} p_x \\ p_y \\ p_z \end{bmatrix} $.
As these are perpendicular unit vectors we have.
\[
  k_x^2 + k_y^2 + k_z^2 \equiv 1
\]
\[
  p_x^2 + p_y^2 + p_z^2 \equiv 1
\]
\[
  p_x * k_x + p_y * k_y + p_z * k_z \equiv 0
\]
As there is no restriction on the choice of y-axis we can choose the it to be in XY plane of $ F_0 $ i.e. it has the form $ \begin{bmatrix} p_x \\ p_y \\ 0 \end{bmatrix} $.
Therefore above equations become
\[
  k_x^2 + k_y^2 + k_z^2 \equiv 1
\]
\[
  p_x^2 + p_y^2 \equiv 1
\]
\[
  p_x * k_x + p_y * k_y \equiv 0
\]
Rewriting $ p_x $ in terms of $ p_y $ we have
\[
  p_x \equiv -p_y * \frac{k_y}{k_x}
\]
Substituting it back we get
\[
  (-p_y * \frac{k_y}{k_x})^2 + p_y^2 \equiv 1
\]
\[
  p_y^2 * \frac{k_y^2 + k_x^2}{k_x^2} \equiv 1
\]
We can choose the one of the square root. Therefore we get
\[
  p_y \equiv \frac{k_x}{\sqrt{k_x^2 + k_y^2}}
\]
\[
  p_x \equiv \frac{-k_y}{\sqrt{k_x^2 + k_y^2}}
\]
Therefore we have
\[
  p \equiv
  \begin{bmatrix}
  \frac{-k_y}{\sqrt{k_x^2 + k_y^2}} \\
  \frac{k_x}{\sqrt{k_x^2 + k_y^2}}  \\
  0
  \end{bmatrix}
\]
We can get the unit vector along x-axis $ t \equiv \begin{bmatrix} t_x \\ t_y \\ t_z \end{bmatrix} $ by taking a cross product
\[
  t \equiv p \times k
\]
\[
  t \equiv \begin{bmatrix} p_y k_z - p_z k_y \\ p_z k_x - p_x k_z \\ p_x k_y - p_y k_x \end{bmatrix}
\]
Substituting $ p_x, p_y, p_z $ in above equation we get
\[
  t \equiv
  \begin{bmatrix}
    \frac{k_1k_3}{\sqrt{k_1^2 + k_2^2}} \\
    \frac{k_2k_3}{\sqrt{k_1^2 + k_2^2}} \\
    -\sqrt{k_1^2 + k_2^2}
  \end{bmatrix}
\]
We have the rotation matrix
\[
  R_1^0 \equiv \begin{bmatrix} i_1i_0 & j_1i_0 & k_1i_0 \\ i_1j_0 & j_1j_0 & k_1j_0 \\ i_1k_0 & j_1k_0 & k_1k_0 \end{bmatrix}
\]
\fromlectures
Substituting columns we get
\[
  R_1^0 \equiv \begin{bmatrix} t & p & k \end{bmatrix}
\]
\[
  R_1^0 \equiv
  \begin{bmatrix}
  \frac{k_1k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{-k_y}{\sqrt{k_x^2 + k_y^2}}  & k_x \\
  \frac{k_2k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{k_x}{\sqrt{k_x^2 + k_y^2}}   & k_y \\
  -\sqrt{k_1^2 + k_2^2}               & 0 & k_z
  \end{bmatrix}
\]
For sanity check one can verify that the columns of matrix are orthonormal.

\subsubsection*{Rotation around $F_1$'s z-axis}
For any vector $ v^0 $ in $ F_0 $ its representation in $ F_1 $ is
\[
  v^1 \equiv R_0^1 * v^0
\]
The vector that results by rotating $ v^1 $ in $ F_1 $'s z-axis by an angle $ \theta $ is
\[
  v^1_r \equiv R_{z,\theta} * v^1
\]
\[
  v^1_r \equiv R_{z,\theta} * R_0^1 * v^0
\]
The representation of $ v^1_r $ in $ F_0 $ is
\[
  v^0_r \equiv R_1^0 * v^1_r
\]
\[
  v^0_r \equiv R_1^0 * R_{z,\theta} * R_0^1 * v^0
\]
But for any vector $ v^0 $ the vector resulted by rotation around k by $\theta$ is
\[
  v^0_r \equiv R_{k,\theta} * v^0
\]
Comparing the above two equations we have
\[
  R_{k,\theta} \equiv R_1^0 * R_{z,\theta} * R_0^1
\]
\paragraph{Gist} Aligning $ F_1 $'s z-axis with k and rotating around $ F_1 $'s z-axis by $ \theta $ is identical to rotating around k by $ \theta $.

We know that
\[
  R_1^0^{-1} \equiv R_1^0^T \equiv R_0^1
\]
\fromlectures
Therefore we have
\[
  R_1^0^{-1} \equiv R_1_0^T \equiv R_0^1 \equiv
  \begin{bmatrix}
  \frac{k_1k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{k_2k_3}{\sqrt{k_1^2 + k_2^2}} & -\sqrt{k_1^2 + k_2^2} \\
  \frac{-k_y}{\sqrt{k_x^2 + k_y^2}}  & \frac{k_x}{\sqrt{k_x^2 + k_y^2}}   & 0 \\
  k_x & k_y & k_z
  \end{bmatrix}
\]

Therefore everything on the right side is known and therefore we can calculate $ R_{k,\theta} $
\[
  R_{k,\theta} \equiv R_1^0 * R_{z,\theta} * R_0^1
\]
\[
  R_{k,\theta} \equiv
  \begin{bmatrix}
  \frac{k_1k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{-k_y}{\sqrt{k_x^2 + k_y^2}}  & k_x \\
  \frac{k_2k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{k_x}{\sqrt{k_x^2 + k_y^2}}   & k_y \\
  -\sqrt{k_1^2 + k_2^2}               & 0 & k_z
  \end{bmatrix}
  *
  \rz{\theta}
  *
  \begin{bmatrix}
  \frac{k_1k_3}{\sqrt{k_1^2 + k_2^2}} & \frac{k_2k_3}{\sqrt{k_1^2 + k_2^2}} & -\sqrt{k_1^2 + k_2^2} \\
  \frac{-k_y}{\sqrt{k_x^2 + k_y^2}}  & \frac{k_x}{\sqrt{k_x^2 + k_y^2}}   & 0 \\
  k_x & k_y & k_z
  \end{bmatrix}
\]
Multiplying matrices and simplifying using $ k_x^2 + k_y^2 + k_z^2 \equiv 1 $ we get
\[
  R_{k,\theta} \equiv
  \begin{bmatrix}
    k_x^2(1 - c\theta) + c\theta & k_xk_y(1 - c\theta) - k_zs\theta & k_xk_z(1 - c\theta) + k_ys\theta\\
    k_xk_y(1 - c\theta) + k_zs\theta & k_y^2(1 - c\theta) + c\theta & k_yk_z(1 - c\theta) - k_xs\theta \\
    k_xk_z(1 - c\theta) - k_ys\theta & k_yk_z(1 - c\theta) + k_xs\theta & k_z^2(1 - c\theta) + c\theta
  \end{bmatrix}
\]
\[
  R_{k,\theta} \equiv
  \begin{bmatrix}
    k_x^2v\theta + c\theta & k_xk_yv\theta - k_zs\theta & k_xk_zv\theta + k_ys\theta\\
    k_xk_yv\theta + k_zs\theta & k_y^2v\theta + c\theta & k_yk_zv\theta - k_xs\theta \\
    k_xk_zv\theta - k_ys\theta & k_yk_zv\theta + k_xs\theta & k_z^2v\theta + c\theta
  \end{bmatrix}
\]
where $v\theta \equiv 1 - c\theta$.
\paragraph{Note} This formulation does not work iff $ k_x^2 + k_y^2 \equiv 0 $, i.e. $ k_x \equiv 0, k_y \equiv 0 $, which means $ k_z \equiv 1 $.
This case means that we are rotating about z-axis of $ F_0 $.
If we substitute values $ k_x \equiv 0, k_y \equiv 0, k_z \equiv 1 $ in given matrix in the question we get the rotation matrix about z-axis, thus proving the statement for this case.

Hence the required statement is proved.

\subsection*{1.b}
When $\theta = 0$, $c\theta = 1, s\theta = 0, v\theta \equiv 1 - c\theta = 0$.
Substituting these in the matrix $ R_{k,\theta} $ we have
\[
  R_{k,0} \equiv
  \begin{bmatrix} 0 + 1 & 0 - 0 & 0 + 0 \\ 0 + 0 & 0 + 1 & 0 - 0 \\ 0 - 0 & 0 + 0 & 0 + 1 \end{bmatrix}
\]
\[
  R_{k,0} \equiv
  \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}
\]
This means that there is no rotation at all.
\pagebreak

\section{}
\section{}
\pagebreak

\section{}
\subsection*{4.a}
The rotation matrix corresponding to a rotation of $\theta$ about a unit vector $ k \equiv (k_x, k_y, k_z)$ is
\[
  R \equiv
  \begin{bmatrix}
    k_x^2v\theta + c\theta & k_xk_yv\theta - k_zs\theta & k_xk_zv\theta + k_ys\theta\\
    k_xk_yv\theta + k_zs\theta & k_y^2v\theta + c\theta & k_yk_zv\theta - k_xs\theta \\
    k_xk_zv\theta - k_ys\theta & k_yk_zv\theta + k_xs\theta & k_z^2v\theta + c\theta
  \end{bmatrix}
\]
where $v\theta \equiv 1 - c\theta$ from Q1.

The rotation is small enough that
\[
  sin(\theta) \approx \theta
\]
\[
  cos(\theta) \approx 1
\]
\[
  \theta^2 \approx 0
\]
\given

Then,
\[
  v(\theta) \equiv 1 - cos(\theta) \equiv 0
\]

Substituting these values we have
\[
  R \equiv
  \begin{bmatrix}
    1 & -k_z\theta & k_y\theta\\
     k_z\theta & 1 & -k_x\theta \\
     -k_y\theta & k_x\theta & 1
  \end{bmatrix}
\]

\subsection*{4.b}
Consider two rotations $R_1 \equiv (a, \theta)$ and $R_2 \equiv (b, \phi)$ where first term is the unit vector in fixed frame and second term is angle of rotation.
Therefore
\[
  R_1 \equiv
  \begin{bmatrix}
    1 & -a_z\theta & a_y\theta\\
     a_z\theta & 1 & -a_x\theta \\
     -a_y\theta & a_x\theta & 1
  \end{bmatrix}
  \equiv
  I + S_1
  ,
  S_1 \equiv
  \begin{bmatrix}
    0 & -a_z\theta & a_y\theta\\
     a_z\theta & 0 & -a_x\theta \\
     -a_y\theta & a_x\theta & 0
  \end{bmatrix}
\]
\[
  R_2 \equiv
  \begin{bmatrix}
    1 & -b_z\phi & b_y\phi\\
     b_z\phi & 1 & -b_x\phi \\
     -b_y\phi & b_x\phi & 1
  \end{bmatrix}
  \equiv
  I + S_2
  ,
  S_2 \equiv
  \begin{bmatrix}
    0 & -b_z\phi & b_y\phi\\
     b_z\phi & 0 & -b_x\phi \\
     -b_y\phi & b_x\phi & 0
  \end{bmatrix}
\]

Consider the composition $R_1$ after $R_2$, the equivalent composite rotation matrix shall be
\[
  R_1 R_2 \equiv (I + S_1) (I + S_2)
\]
\[
  R_1 R_2 \equiv I + S_2 + S_1 + S_1S_2
\]
\[
  R_1 R_2 \equiv I + S_2 + S_1 +
  \begin{bmatrix}
    0 & -a_z\theta & a_y\theta\\
     a_z\theta & 0 & -a_x\theta \\
     -a_y\theta & a_x\theta & 0
  \end{bmatrix}
  \begin{bmatrix}
    0 & -b_z\phi & b_y\phi\\
     b_z\phi & 0 & -b_x\phi \\
     -b_y\phi & b_x\phi & 0
  \end{bmatrix}
\]
\[
  R_1 R_2 \equiv I + S_2 + S_1 +
  \begin{bmatrix}
    c_1\theta\phi & c_2\theta\phi & c_3\theta\phi \\
    c_4\theta\phi & c_5\theta\phi & c_6\theta\phi \\
    c_7\theta\phi & c_8\theta\phi & c_9\theta\phi
  \end{bmatrix}
\]
where $c_i$ is some function of $(a_x, a_y, a_z, b_x, b_y, b_z)$. But as the rotations are small enough such that
\[
  \theta\phi \approx 0
\]
we have
\[
  {\color{green} R_1 R_2 \equiv I + S_2 + S_1}
\]

Consider the composition $R_2$ after $R_1$, the equivalent composite rotation matrix shall be
\[
  R_2 R_1 \equiv (I + S_2) (I + S_1)
\]
\[
  R_2 R_1 \equiv I + S_1 + S_2 + S_2S_1
\]
\[
  R_2 R_1 \equiv I + S_1 + S_2 +
  \begin{bmatrix}
    0 & -b_z\phi & b_y\phi\\
     b_z\phi & 0 & -b_x\phi \\
     -b_y\phi & b_x\phi & 0
  \end{bmatrix}
  \begin{bmatrix}
    0 & -a_z\theta & a_y\theta\\
     a_z\theta & 0 & -a_x\theta \\
     -a_y\theta & a_x\theta & 0
  \end{bmatrix}
\]
\[
  R_2 R_1 \equiv I + S_1 + S_2 +
  \begin{bmatrix}
    c_1\theta\phi & c_2\theta\phi & c_3\theta\phi \\
    c_4\theta\phi & c_5\theta\phi & c_6\theta\phi \\
    c_7\theta\phi & c_8\theta\phi & c_9\theta\phi
  \end{bmatrix}
\]
where $c_i$ is some function of $(a_x, a_y, a_z, b_x, b_y, b_z)$. But as the rotations are small enough such that
\[
  \theta\phi \approx 0
\]
we have
\[
  {\color{blue} R_2 R_1 \equiv I + S_1 + S_2}
\]
Hence
\[
  {\color{green} R_1R_2} \equiv {\color{blue} R_2R_1}
\]
Since $R_1, R_2$ are rotation matrices for arbitrary small rotations, small rotations commute.
\pagebreak

\section{}
\[
  q_1 \equiv a + b \hat{i} + c \hat{j} + d \hat{k}
\]
\[
  q_2 \equiv e + f \hat{i} + g \hat{j} + h \hat{k}
\]
\[
  q_3 \equiv s + t \hat{i} + u \hat{j} + v \hat{k}
\]
are three quaternions
\given

\[
  q_1(q_2q_3) \equiv (q_1q_2)q_3
\]
\rtp

The product of two quaternions $ q_1 \equiv (r_1, \vv{1}) $ and $ q_2 \equiv (r_2, \vv{2}) $ is
\[
  q_1q_2 \equiv (r_1 r_2 - \vv{1} . \vv{2}, r_1 \vv{2} + r_2 \vv{1} + \vv{1}\times\vv{2})
\]
\fromlectures

Let
\[
  q_1 \equiv a + b \hat{i} + c \hat{j} + d \hat{k} \equiv (r_1, \vv{1})
\]
\[
  q_2 \equiv e + f \hat{i} + g \hat{j} + h \hat{k} \equiv (r_2, \vv{2})
\]
\[
  q_3 \equiv s + t \hat{i} + u \hat{j} + v \hat{k} \equiv (r_3, \vv{3})
\]
where $r_i, i$ are real and vector parts of the $i^{th}$ quaternion respectively

\subsubsection*{Expanding $q_1(q_2q_3)$}
Consider
\[
  q_1(q_2q_3) \equiv (r_1, \vv{1}) ((r_2, \vv{2})(r_3, \vv{3}))
\]
\[
  q_1(q_2q_3) \equiv (r_1, \vv{1}) (r_2r_3 - \vv{2}.\vv{3}, r_2 \vv{3} + r_3 \vv{2} + \vv{2}\times\vv{3})
\]
\[
  q_1(q_2q_3) \equiv (P, Q)
\]
where
\[
  P \equiv r_1(r_2r_3 - \vv{2}.\vv{3}) - \vv{1}.(r_2 \vv{3} + r_3 \vv{2} + \vv{2}\times\vv{3})
\]
\[
  Q \equiv  r_1(r_2 \vv{3} + r_3 \vv{2} + \vv{2}\times\vv{3})
    + (r_2r_3 - \vv{2}.\vv{3})\vv{1}
    + \vv{1} \times (r_2 \vv{3} + r_3 \vv{2} + \vv{2}\times\vv{3})
\]
Rearranging beautifully we get
\[
  q_1(q_2q_3) \equiv (P, Q)
\]
where
\[
  P \equiv r_1r_2r_3 - r_1\vv{2}.\vv{3} - r_2\vv{1}.\vv{3} - r_3\vv{1}.\vv{2} - {\color{green} \vv{1} . (\vv{2}\times\vv{3})}
\]
\[
  Q \equiv
  r_1r_2\vv{3}
  + r_1r_3\vv{2}
  + r_2r_3\vv{1}
  + r_1 \vv{2}\times\vv{3}
  + r_2 \vv{1}\times\vv{3}
  + r_3 \vv{1}\times\vv{2}
  {\color{blue}
  - (\vv{2}.\vv{3})\vv{1}
  + \vv{1} \times (\vv{2}\times\vv{3})}
\]

\subsubsection*{Expanding $(q_1q_2)q_3$}
Consider
\[
  (q_1q_2)q_3 \equiv ((r_1, \vv{1})(r_2, \vv{2}))(r_3, \vv{3})
\]
\[
  (q_1q_2)q_3 \equiv (r_1r_2 - \vv{1}.\vv{2}, r_1 \vv{2} + r_2 \vv{1} + \vv{1}\times\vv{2}) (r_3, \vv{3})
\]
\[
  (q_1q_2)q_3 \equiv (R, S)
\]
where
\[
  R \equiv (r_1r_2 - \vv{1}.\vv{2})r_3 - (r_1 \vv{2} + r_2 \vv{1} + \vv{1}\times\vv{2}).\vv{3}
\]
\[
  S \equiv
    r_3(r_1 \vv{2} + r_2 \vv{1} + \vv{1}\times\vv{2})
    + (r_1r_2 - \vv{1}.\vv{2})\vv{3}
    + (r_1 \vv{2} + r_2 \vv{1} + \vv{1}\times\vv{2}) \times \vv{3}
\]
Rearranging beautifully we get
\[
  q_1(q_2q_3) \equiv (R, S)
\]
where
\[
  R \equiv r_1r_2r_3 - r_1\vv{2}.\vv{3} - r_2\vv{1}.\vv{3} - r_3\vv{1}.\vv{2} - {\color{green} (\vv{1}\times\vv{2}).\vv{3}}
\]
\[
  S \equiv
  r_1r_2\vv{3}
  + r_1r_3\vv{2}
  + r_2r_3\vv{1}
  + r_1 \vv{2}\times\vv{3}
  + r_2 \vv{1}\times\vv{3}
  + r_3 \vv{1}\times\vv{2}
  {\color{blue}
  - (\vv{1}.\vv{2})\vv{3}
  + (\vv{1}\times\vv{2})\times\vv{3}}
\]

\subsubsection*{Equivalence}
Except the colored terms all other terms are identical.
But we know that
\[
  \vv{1}.(\vv{2}\times\vv{3}) \equiv (\vv{1}\times\vv{2}).\vv{3}
\]
from the properties of vector cross products, as it represents the signed volume of parallelepiped formed by vectors $\vv{1}, \vv{2}, \vv{3}$.
Therefore
\[
P \equiv R
\]
We also know the following triple product rule of cross products.
\[
  \vv{1} \times (\vv{2}\times\vv{3})
  \equiv
  \vv{2} (\vv{1}\vv{3})
  - \vv{3} (\vv{1}\vv{2})
\]
Expanding last terms in Q we have
\[
  - (\vv{2}.\vv{3})\vv{1}
  + \vv{1} \times (\vv{2}\times\vv{3})
  \equiv
  - \vv{1} (\vv{2}.\vv{3})
  + \vv{2} (\vv{1}\vv{3})
  - \vv{3} (\vv{1}\vv{2})

\]
Expanding last terms in S we have
\[
  - (\vv{1}.\vv{2})\vv{3}
  + (\vv{1}\times\vv{2})\times\vv{3}
  \equiv
  - (\vv{1}.\vv{2})\vv{3}
  - \vv{3}\times(\vv{1}\times\vv{2})
  \equiv
  - \vv{1} (\vv{2}.\vv{3})
  + \vv{2} (\vv{1}\vv{3})
  - \vv{3} (\vv{1}\vv{2})
\]

Therefore
\[
Q \equiv S
\]
Hence
\[
  (P, Q) \equiv (R, S)
\]
\[
  q_1(q_2q_3) \equiv (q_1q_2)q_3
\]
For arbitrary quaternions $q_1, q_2, q_3$. Hence multiplication of quaternions is associative.
\end{document}
